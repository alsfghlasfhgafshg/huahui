<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aaa.huahui.repository.ProjectRepository">


    <select id="searchProject" resultType="com.aaa.huahui.model.Project">
    select project.*
    from project,
         category,
         category2,
         shop,
         brand
    where project.name like CONCAT(CONCAT('%', #{keyword}), '%')
      and project.category2id = category2.category2id
      and category2.categoryid = category.id
      and category.brandid = brand.brandid
      and brand.brandid = shop.brandid
      and shop.shopid = #{shopid}
    </select>
</mapper>